@model PGMEATS_WEB.Models.ClsUserPrivilegeViewModel

<link href="~/Content/css/toastr.css" rel="stylesheet" />
<link href="~/Content/css/toastr.min.css" rel="stylesheet" />

<script src="~/Scripts/toastr.js"></script>
<script src="~/Scripts/toastr.min.js"></script>

<div id="content">
    <section id="widget-grid" class="">
        <div class="row">
            <article class="col-sm-12 col-md-12 col-lg-12">
                <div class="jarviswidget jarviswidget-color-red" id="wid-id-1"
                     data-widget-colorbutton="false"
                     data-widget-editbutton="false"
                     data-widget-togglebutton="false"
                     data-widget-deletebutton="false"
                     data-widget-custombutton="false"
                     data-widget-collapsed="false"
                     data-widget-sortable="false">

                    <header style="border-top-left-radius:8px; border-top-right-radius:8px">
                        <h2 style="font-family:'Poppins-Regular';font-weight:500;font-size:13px">User Privilege</h2>
                    </header>

                    <div style="border-bottom-left-radius:8px; border-bottom-right-radius:8px">
                        @using (Html.BeginForm("Index", "UserPrivilege", FormMethod.Post, new { encType = "multipart/form-data", name = "myform" }))
                        {
                            @Html.ValidationSummary(true)
                            <table id="tableData" class="table table-striped" style="width:800px">
                                <thead class="dataTableHead">
                                    <tr>
                                        <th hidden="hidden">

                                        </th>
                                        <th style="vertical-align:middle;font-size:14px">
                                            Group ID
                                        </th>
                                        <th style="vertical-align:middle;font-size:14px">
                                            Menu ID
                                        </th>
                                        <th style="vertical-align:middle;font-size:14px">
                                            Description
                                        </th>
                                        <th style="text-align:center;font-size:14px">
                                            Access<br />
                                            <div style="text-align:center">
                                                <input type="checkbox" id="checkallaccess" />
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @Html.EditorFor(model => model.Privileges)
                                </tbody>
                            </table>

                            <hr />


                            <div class="form-horizontal active">
                                <div class="form-group active">
                                    <div class="col col-lg-5">
                                        @if (ViewBag.AllowWrite == "0")
                                        {
                                            <button id="btnsubmit" type="submit" value="Save" class="btn btn-primary" disabled style="width:85px; font-size:13px">
                                                Save
                                            </button>
                                        }
                                        else
                                        {
                                            <button id="btnsubmit" type="submit" value="Save" class="btn btn-primary" style="width:85px; font-size:13px">
                                                Save
                                            </button>
                                        }

                                        &nbsp;
                                        <button id="btnback" type="button" value="Back" onclick="back()" class="btn btn-default" style="width:85px; font-size:12px">
                                            Back
                                        </button>
                                    </div>

                                </div>
                            </div>

                        }
                        <br />
                    </div>
                </div>

            </article>
        </div>
    </section>
</div>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
    function back() {
        window.location.href = "/UserSetup/Index"
    }

    function toggleChecked(status) {
        $("#checkboxaccess input").each(function () {
            // Set the checked status of each to match the
            // checked status of the check all checkbox:
            $(this).prop("checked", status);
        });
    }

    function toggleCheckedUpdate(status) {
        $("#checkboxupdate input").each(function () {
            $(this).prop("checked", status);
        });
    }

    $(document).ready(function () {

        // Grab a reference to the check all box:
        var checkAllAccess = $("#checkallaccess");
        var checkAllUpdate = $("#checkallupdate");

        //Set the default value of the global checkbox to true:
        checkAllAccess.prop('checked', false);
        checkAllUpdate.prop('checked', false);

        // Attach the call to toggleChecked to the
        // click event of the global checkbox:
        checkAllAccess.click(function () {
            var status = checkAllAccess.prop('checked');
            toggleChecked(status);
        });
        checkAllUpdate.click(function () {
            var status = checkAllUpdate.prop('checked');
            toggleCheckedUpdate(status);
        });
    });

     $(function(){
     var msg = "@(TempData["Msg"] as string)";
        if (msg !== "") {
             toastr.success(msg, 'Success', { timeOut: 3000, "closeButton": true });
         }
    });
</script>